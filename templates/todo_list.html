<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
            >
        <link 
            rel="stylesheet" 
            href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css"
            >
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
            >
        <script 
            src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"
            >
        </script>
        <script 
            src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"
            >
        </script>
        <script 
            src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
            >
        </script>
        
    </head>
    <body>
        <div class="container">
            <br>
            <br>
            <h2 align="center">Actividad "Todo List"</h2>
            <div id="resultbox"></div>
            <div class="form-group">
                <form name="add_items" id="add_items">
                    <div id="InputSwapper">
                        <div class="row">
                            <div class="col-xs-6">
                                <input 
                                    type="text" 
                                    name="item[]" 
                                    placeholder="Ingresar nueva tarea" 
                                    class="form-control name_list"
                                    id="txtInput"
                                    value="">

                            </div>
                            <div class="col-xs-6">
                                <button 
                                    type="button" 
                                    name="add"
                                    id="addNewItem" 
                                    class="btn btn-success">
                                        Añadir Tarea
                                </button>
                            </div>
                        </div>
                    </div>
                    <input 
                        type="button" 
                        name="submit" 
                        class="btn btn-info" 
                        value="submit">
                </form>
            </div>
        </div>
        <script>
            $(document).ready(function(){
                var maxInputs=8;
                var InputSwapper=$("#InputSwapper");
                var addButton=$("#addNewItem");
                // var txtInput=$("#addNewItem");
                var txtInput=document.getElementById("txtInput").value;
                // txtInput=txtInput.outerHTML;
                var x=InputSwapper.length;
                var FieldCount=1;
                $(addButton).click(function(e){
                    if(x<=maxInputs){
                        FieldCount++;
                        $(InputSwapper).append('<div class="row"><p class="col-xs-6"><input type="text" placeholder="{{txtInput}}" class="form-control name_list" name="item[]" id="field_'+ FieldCount +'" value="'+ {txtInput} +'"/></p><a href="#" class="btn btn-danger removeclass">×</a></div>');
                        x++;
                    }
                    return false;
                })
                $("body").on("click",".removeclass", function(e){
                    if( x > 1 ) {
                        $(this).parent('div').remove(); //remove text box
                        x--; //decrement textbox
                        }
                    return false;
                })
                $('#submit').click(function(){            
                        $.ajax({  
                                url:"/postskill",  
                                method:"POST",  
                                data:$('#add_items').serialize(),  
                                success:function(data)  
                                {  alert(data)
                                    $('#resultbox').html(data);  
                                    $('#add_items')[0].reset();  
                                }  
                        });  
                    }); 
                });
        </script>
        <style>
            .row{padding:10px}
        </style>
    </body>
</html>